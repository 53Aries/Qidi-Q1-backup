[gcode_macro PRINT_START]
gcode:
    {% set bedtemp = params.BED|int %}
    {% set hotendtemp = params.HOTEND|int %}
    {% set chambertemp = params.CHAMBER|default(0)|int %}
    M140 S{bedtemp}
    M141 S{chambertemp}
    G28 
    Z_TILT_ADJUST
    G28 Z

    TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bedtemp * 0.95} MAXIMUM={bedtemp * 1.05}
    BED_MESH_CALIBRATE PROFILE=adaptive ADAPTIVE=1
    G1 X120 Y120 F7800
   

    M104 S{hotendtemp}
    G0 Z30 F600
    M104 S{hotendtemp}
    

    M191 S{chambertemp}
    M109 S{hotendtemp}
    M204 S10000
    SET_FILAMENT_SENSOR SENSOR=Runout ENABLE=1